// Module included in the following assemblies:
//
// * argocd_application_sets/managing-app-sets-in-non-control-plane-namespaces.adoc

:_mod-docs-content-type: PROCEDURE
[id="gitops-allowing-scm-providers_{context}"]
= Allowing Source Code Manager Providers

[IMPORTANT]
====
Please read this section carefully. Misconfiguration could lead to potential security issues. 
====

Allowing `ApplicationSet` resources in non-control plane namespaces can result in the exfiltration of secrets through malicious API endpoints in Source Code Manager (SCM) Provider or Pull Request (PR) generators. To prevent unauthorized access to sensitive information, the Operator disables the SCM Provider and PR generators by default as a precautionary measure.

.Procedure

* To use the SCM Provider and PR generators, explicitly define a list of allowed SCM Providers:
+
.Example Argo CD custom resource
[source,yaml]
----
apiVersion: argoproj.io/v1beta1
kind: ArgoCD
metadata:
  name: example-argocd
spec:
  applicationSet:
    sourceNamespaces: 
      - dev 
    scmProviders: <1>
      - https://git.mydomain.com/
      - https://gitlab.mydomain.com/
----
<1> The list of URLs of the allowed SCM Providers.


[NOTE]
====
If you use a URL that is not in the list of allowed SCM Providers, the Argo CD ApplicationSet Controller will reject it.
====
